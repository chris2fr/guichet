import{c as E,a as N,s as U,g as j}from"../chunks/index.592e3b34.js";import{s as z,n as S,r as A,d as I}from"../chunks/scheduler.6b0283ec.js";import{S as B,i as F,g as h,s as T,h as _,j as v,c as O,f as C,B as M,k as p,a as R,z as c,D as d,A as y,C as k}from"../chunks/index.d03f1b61.js";import{a as q}from"../chunks/ui.970d4c6a.js";const D=async function({params:{slug:n}}){return{post:n==="new"?{}:await E.collection("posts").getOne(n)}},Q=Object.freeze(Object.defineProperty({__proto__:null,load:D},Symbol.toStringTag,{value:"Module"}));function X(n){let e,t,a,o,l,u,g,m,b,i,f="Submit",w,P;return{c(){e=h("form"),t=h("input"),a=T(),o=h("input"),l=T(),u=h("textarea"),g=T(),m=h("input"),b=T(),i=h("button"),i.textContent=f,this.h()},l(r){e=_(r,"FORM",{});var s=v(e);t=_(s,"INPUT",{name:!0,placeholder:!0}),a=O(s),o=_(s,"INPUT",{name:!0,placeholder:!0}),l=O(s),u=_(s,"TEXTAREA",{name:!0,placeholder:!0,rows:!0}),v(u).forEach(C),g=O(s),m=_(s,"INPUT",{type:!0}),b=O(s),i=_(s,"BUTTON",{type:!0,"data-svelte-h":!0}),M(i)!=="svelte-1ou7dtz"&&(i.textContent=f),s.forEach(C),this.h()},h(){p(t,"name","title"),p(t,"placeholder","title"),p(o,"name","slug"),p(o,"placeholder","slug"),p(u,"name","body"),p(u,"placeholder","body"),p(u,"rows","10"),p(m,"type","file"),m.multiple=!0,p(i,"type","submit")},m(r,s){R(r,e,s),c(e,t),d(t,n[0].title),c(e,a),c(e,o),d(o,n[0].slug),c(e,l),c(e,u),d(u,n[0].body),c(e,g),c(e,m),c(e,b),c(e,i),w||(P=[y(t,"input",n[3]),y(o,"input",n[4]),y(u,"input",n[5]),y(m,"change",n[6]),y(e,"submit",k(n[1]))],w=!0)},p(r,[s]){s&1&&t.value!==r[0].title&&d(t,r[0].title),s&1&&o.value!==r[0].slug&&d(o,r[0].slug),s&1&&d(u,r[0].body)},i:S,o:S,d(r){r&&C(e),w=!1,A(P)}}}function G(n,e,t){let a,o;I(n,N,f=>t(7,o=f));let{data:l}=e;async function u(f){t(0,a.user=o==null?void 0:o.id,a),q(async()=>{await U("posts",a),j("../..")})}function g(){a.title=this.value,t(0,a),t(2,l)}function m(){a.slug=this.value,t(0,a),t(2,l)}function b(){a.body=this.value,t(0,a),t(2,l)}function i(){a.files=this.files,t(0,a),t(2,l)}return n.$$set=f=>{"data"in f&&t(2,l=f.data)},n.$$.update=()=>{n.$$.dirty&4&&t(0,{post:a}=l,a)},[a,u,l,g,m,b,i]}class V extends B{constructor(e){super(),F(this,e,G,X,z,{data:2})}}export{V as component,Q as universal};
